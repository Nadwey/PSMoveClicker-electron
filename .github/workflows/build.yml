name: "Build"

on: [push]
jobs:
    analyze:
        name: Build (Linux)

        permissions:
            actions: read
            contents: read
            security-events: write

        strategy:
            fail-fast: false
            matrix:
                os: [ubuntu-latest]
        runs-on: ${{ matrix.os }}

        steps:
            - uses: actions/checkout@v3
            - name: Install dependencies
              run: |
                sudo apt update && sudo apt upgrade -y
                sudo apt install libusb-1.0-0-dev libusb-0.1-4 libusb-dev bluez libbluetooth-dev dbus libdbus-1-dev libudev-dev libxtst-dev gtk4
            - name: Build
              run: |
                ./build-PSMoveApi.sh
                ./build.sh